
### DNS

: 숫자로 된 IP 주소를 사람이 읽을 수 있는 이름으로 변환해서 통신할 수 있도록 작업하는 것

<BR>

### 도메인 주소가 IP로 변환되는 과정

1. 디바이스는 hosts 파일을 열어 봅니다

   + hosts 파일에는 로컬에서 직접 설정한 호스트 이름과 IP 주소를 매핑 하고 있습니다

2. DNS는 캐시를 확인 합니다

   + 기존에 접속했던 사이트의 경우 캐시에 남아 있을 수 있습니다
   + DNS는 브라우저 캐시, 로컬 캐시(OS 캐시), 라우터 캐시, ISP(Internet Service Provider)캐시 순으로 확인 합니다

3. DNS는 Root DNS에 요청을 보냅니다

   + 모든 DNS에는 Root DNS의 주소가 포함 되어 있습니다
   + 이를 통해 Root DNS에게 질의를 보내게 됩니다
   + Root DNS는 도메인 주소의 최상위 계층을 확인하여 TLD(Top Level DNS)의 주소를 반환 합니다

4. DNS는 TLD에 요청을 보냅니다

   + Root DNS로 부터 반환받은 주소를 통해 요청을 보냅니다
   + TLD는 도메인에 권한이 있는 Authoritative DNS의 주소를 반환 합니다

5. DNS는 Authoritative DNS에 요청을 보냅니다

   + 도메인 이름에 대한 IP 주소를 반환 합니다

----

- www.google.com을 클릭했을 때 패킷 생성 과정과 연결 과정
  
    (1) DNS 서버에서 검색하기 전 캐싱된 DNS 기록 확인합니다. 캐싱된 도메인이 있을 경우 IP주소를 반환합니다. 

    (2) 캐싱된 도메인이 없을 경우, 케이블 인터넷 공급업체, DSL 광대역 공급업체 또는 기업 네트워크 같은 인터넷 서비스 제공업체(ISP)가 관리하는 DNS 해석기로 라우팅됩니다.

    (3) ISP의 DNS 해석기는 도메인에 대한 요청을 DNS 루트 이름 서버에 전달하고 IP 주소를 반환합니다. 

    (4) IP주소를 이용하여 웹 브라우저는 TCP/IP 프로토콜을 사용해서 웹서버에게 해당 웹사이트에 맞는 HTML문서를 요청합니다. 

    (5) 요청된 문서의 데이터를 처리할 때, WAS와 데이터베이스에서 웹페이지 작업을 처리합니다.

    (6) WAS에서의 작업 처리 결과들을 웹 서버로 전송하고, 웹 서버는 웹 브라우저에게 html 문서 결과를 전달합니다.

    (7) 받은 결과물을 랜더링합니다.   
  

  <br>
  출처: 신입 개발자 전공 지식 & 기술 면접 백과사전


  www.google.com 나오지 않는 경우

  1. 게이트웨이 IP가 제대로 설정됐는가

  2. DNS 세팅이 됐는가?
 
      
